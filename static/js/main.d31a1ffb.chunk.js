(window.webpackJsonpcubos=window.webpackJsonpcubos||[]).push([[0],{40:function(e,a,t){e.exports=t(69)},49:function(e,a,t){},69:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(16),l=t.n(c),o=t(10),s=t(2),i=t(18),m=t(13),u=t(35);function v(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function p(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?v(t,!0).forEach(function(a){Object(u.a)(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(t).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var E={movieList:[],genreList:[]},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"GET_MOVIE_LIST":return p({},e,{movieList:a.payload});case"GET_ALL_GENRES":return p({},e,{genreList:a.payload});default:return e}},f=Object(m.b)({movieReducer:d}),b=Object(m.c)(f),_=(t(49),t(12)),h=function(){return r.a.createElement("div",{className:"header"},r.a.createElement(_.a,{to:"/"},r.a.createElement("h1",{className:"header__title is-abel"},"Movies")))},g=t(39),N=t(9),O=function(e){var a=e.handleSubmit;return r.a.createElement("form",{className:"search__form",onSubmit:function(e){e.preventDefault();var t=e.target.children[0].value;a(t,1)}},r.a.createElement("input",{className:"search__input is-abel",type:"search",placeholder:"Digite o nome do filme ou g\xeanero"}))},w=t(14),y=t.n(w),j=t(37),S=function e(){Object(j.a)(this,e)};S.BASE_URL="https://api.themoviedb.org/3/",S.API_KEY="api_key=3276fa51d16eb0a7c0fcb23665588bcd";var k=S,L=t(11),P=t.n(L),I=function(e){var a=e.id,t=e.title,n=e.poster_path,c=e.overview,l=e.release_date,o=e.vote_average;return r.a.createElement("div",{className:"movie__item",id:a},r.a.createElement("div",{className:"movie__item-poster"},r.a.createElement(_.a,{to:"/movie/".concat(a)},r.a.createElement("img",{src:n?"http://image.tmdb.org/t/p/w200/".concat(n):"",alt:""}))),r.a.createElement("div",{className:"movie__item-content"},r.a.createElement("div",{className:"header"},r.a.createElement(_.a,{to:"/movie/".concat(a)},r.a.createElement("h3",{className:"title is-abel"},t)),r.a.createElement("span",{className:"vote-average is-abel"},r.a.createElement("span",{className:"value"},P()(o/10).format("0 %"))),r.a.createElement("span",{className:"release-date"},l)),r.a.createElement("div",{className:"content"},c),r.a.createElement("div",{className:"bottom"})))},R=function(e){for(var a=e.current,t=e.keyword,n=e.total,c=[],l=1;l<=n;l++)c.push(l);return r.a.createElement("div",{className:"page__wrapper"},c.map(function(n){return r.a.createElement("a",{className:a===n?"page__link active":"page__link",href:n,key:n,onClick:function(a){a.preventDefault(),function(a){e.handleClick(t,a)}(n)}},n)}))},x=Object(i.b)(function(e){return{movieList:e.movieReducer.movieList}},function(e){return{getMovieList:function(a){return e(function(e){return{type:"GET_MOVIE_LIST",payload:e}}(a))}}})(function(e){var a=e.movieList,t=e.getMovieList,c=Object(n.useState)(""),l=Object(N.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)(""),m=Object(N.a)(i,2),u=m[0],v=m[1],p=Object(n.useState)(""),E=Object(N.a)(p,2),d=E[0],f=E[1],b=function(e,a){f(e),y.a.get("".concat(k.BASE_URL,"search/movie?").concat(k.API_KEY,"&query=").concat(e,"&language=pt-BR&region=BR&page=").concat(a),{crossdomain:!0}).then(function(e){s(e.data.page),v(e.data.total_pages),t(Object(g.a)(e.data.results))}).catch(function(e){return console.error(e)})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(O,{handleSubmit:b}),a.map(function(e){return r.a.createElement(I,Object.assign({key:e.id},e))}),r.a.createElement(R,{current:o,keyword:d,total:u,handleClick:b}))}),A=t(23),B=t.n(A),D=t(38),T=function(e){var a=Object(n.useState)({}),t=Object(N.a)(a,2),c=t[0],l=t[1];return Object(n.useEffect)(function(){(function(){var a=Object(D.a)(B.a.mark(function a(){return B.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,y.a.get("".concat(k.BASE_URL,"movie/").concat(e.id,"/videos?").concat(k.API_KEY)).then(function(e){e.data.results.map(function(e){return"Trailer"===e.type&&l(e),null})}).catch(function(e){return console.error(e)});case 2:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}})()()},[e]),r.a.createElement("div",{className:"movie-detail__item"},r.a.createElement("div",{className:"top"},r.a.createElement("h2",{className:"title is-abel"},e.title),r.a.createElement("span",{className:"date"},e.release_date)),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"info"},r.a.createElement("h5",{className:"info__label"},"Sinopse"),r.a.createElement("p",{className:"info__overview"},e.overview),r.a.createElement("br",null),r.a.createElement("h5",{className:"info__label"},"Informa\xe7\xf5es"),r.a.createElement("div",{className:"info__wrapper"},r.a.createElement("div",{className:"info__box"},r.a.createElement("h4",{className:"label"},"Situa\xe7\xe3o"),r.a.createElement("span",{className:"value"},e.status)),r.a.createElement("div",{className:"info__box"},r.a.createElement("h4",{className:"label"},"Idioma"),r.a.createElement("span",{className:"value"},e.original_language)),r.a.createElement("div",{className:"info__box"},r.a.createElement("h4",{className:"label"},"Dura\xe7\xe3o"),r.a.createElement("span",{className:"value"},P()(e.runtime).format("00:00:00")+" hr")),r.a.createElement("div",{className:"info__box"},r.a.createElement("h4",{className:"label"},"Or\xe7amento"),r.a.createElement("span",{className:"value"},P()(e.budget).format("$0,0.00"))),r.a.createElement("div",{className:"info__box"},r.a.createElement("h4",{className:"label"},"Receita"),r.a.createElement("span",{className:"value"},P()(e.revenue).format("$0,0.00"))),r.a.createElement("div",{className:"info__box"},r.a.createElement("h4",{className:"label"},"Lucro"),r.a.createElement("span",{className:"value"},P()(e.revenue-e.budget).format("$0,0.00")))),r.a.createElement("ul",{className:"genres"},e.genres?e.genres.map(function(e){return r.a.createElement("li",{key:e.id,className:"genre"},e.name)}):""),r.a.createElement("div",{className:"info__average"},r.a.createElement("span",{className:"value"},P()(e.vote_average/10).format("0%")))),r.a.createElement("div",{className:"poster"},r.a.createElement("img",{src:e.poster_path?"http://image.tmdb.org/t/p/w300/".concat(e.poster_path):"",alt:""}))),r.a.createElement("div",{className:"bottom"},r.a.createElement("iframe",{title:c.name,src:"https://www.youtube.com/embed/".concat(c.key),frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})))},M=function(e){var a=Object(n.useState)(!1),t=Object(N.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)({}),s=Object(N.a)(o,2),i=s[0],m=s[1];return Object(n.useEffect)(function(){l(!0),y.a.get("".concat(k.BASE_URL,"movie/").concat(e.match.params.id,"?").concat(k.API_KEY,"&language=pt-BR")).then(function(e){var a=e.data;l(!1),m(a)}).catch(function(e){l(!0),console.error(e)})},[e]),r.a.createElement(r.a.Fragment,null,c?r.a.createElement("h1",null,"Carregando..."):r.a.createElement(T,i))};var C=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement("div",{className:"container"},r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:x}),r.a.createElement(o.b,{path:"/movie/:id",component:M}),r.a.createElement(o.b,{path:"*",render:function(){return r.a.createElement(o.a,{to:"/"})}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=Object(s.a)();l.a.render(r.a.createElement(i.a,{store:b},r.a.createElement(o.c,{history:G},r.a.createElement(C,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.d31a1ffb.chunk.js.map